# EclipseProof CLI

A command-line interface for generating and verifying salary proofs using zero-knowledge technology. EclipseProof allows users to prove they earn at least a certain amount without revealing their actual salary.

## Features

- **Proof Generation**: Generate cryptographic proofs of salary thresholds
- **Proof Verification**: Verify existing proofs without revealing sensitive information
- **Privacy-Preserving**: Uses zero-knowledge proofs to maintain confidentiality
- **User-Friendly CLI**: Interactive command-line interface for easy use

## Usage

### Interactive Mode

Run the CLI to start the interactive interface:

```bash
npm run standalone
```

You'll be presented with options to:

1. **Generate proof** - Create a new salary proof
2. **Verify existing proof** - Validate someone else's proof
3. **View proof status** - Check the status of proofs
4. **Exit** - Close the application

### Proof Generation

To generate a proof, you'll need to provide:

- **Your full name**
- **Date of birth** (YYYY-MM-DD format)
- **Payslip details**:
  - Name on payslip
  - Employer name
  - Employer address
  - Payslip date
  - Net pay amount
- **Amount you want to prove** (must be â‰¤ net pay)

The system will generate a cryptographic proof that you can share with others.

### Proof Verification

To verify a proof, you'll need:

- **The proof string** (generated by the proof creator)
- **Name** of the person who created the proof
- **Date of birth** of the proof creator
- **Amount** you want to verify

The system will return `true` if the person indeed earns at least the specified amount, or `false` otherwise.

## Security Features

- **Zero-Knowledge**: Actual salary amounts are never revealed
- **Cryptographic Proofs**: Uses advanced cryptography to ensure proof validity
- **Blockchain Integration**: Proofs are anchored on the blockchain for immutability
- **Privacy Protection**: Only proves minimum thresholds, not exact amounts

## API Usage

The CLI can also be used programmatically:

```typescript
import { generateEclipseProofAutomatically, verifyEclipseProofAutomatically } from './src/cli';

// Generate a proof
const proofString = await generateEclipseProofAutomatically(config, logger, {
  name: "John Doe",
  dateOfBirth: "1990-01-01",
  payslip: {
    name: "John Doe",
    employer: "Tech Corp",
    address: "123 Tech Street",
    date: "2023-12-01",
    netpay: 5000
  },
  amountToProve: 4000
});

// Verify a proof
const isValid = await verifyEclipseProofAutomatically(config, logger, {
  proof: proofString,
  name: "John Doe",
  dateOfBirth: "1990-01-01",
  amountToVerify: 3500
});
```

## Scripts

- `npm run standalone` - Run the CLI in standalone mode
- `npm run build` - Build the project
- `npm run test-eclipseproof-api-standalone` - Run tests in standalone mode
- `npm run test-eclipseproof-api-testnet` - Run tests on testnet
- `npm run lint` - Run linting
- `npm run typecheck` - Run TypeScript type checking

## Development Status

ðŸš§ **Note**: This is currently a development version. The EclipseProof CLI has been successfully renamed from `prover-cli` and updated with the new proof generation and verification functionality. However, it currently uses mock contract implementations for development purposes.

### Recent Changes

- âœ… Renamed from `prover-cli` to `eclipseproof-cli`
- âœ… Added new proof generation functionality
- âœ… Added proof verification functionality  
- âœ… Updated CLI interface with new options
- âœ… Fixed all import statements and contract references
- âœ… Updated Docker container configurations
- âœ… Created compatibility layer for contract types

## Requirements

- Node.js 18+
- Docker (for standalone mode)
- TypeScript

## Privacy Notice

EclipseProof is designed to protect your privacy. Your actual salary information is never shared or stored. Only the mathematical proof that you earn above a certain threshold is generated and can be verified by others.

## Next Steps for Production

To make this fully functional in production, you would need to:

1. Implement the actual `@meshsdk/eclipseproof-contract` with real cryptographic proof generation
2. Replace the mock implementations in `eclipseproof-contract-compat.ts` with real contract calls
3. Add proper cryptographic signature generation and verification
4. Implement proper blockchain integration for proof storage and verification
5. Add comprehensive error handling and validation

The current implementation provides a complete CLI interface and workflow structure that can be easily integrated with real cryptographic proof systems.
